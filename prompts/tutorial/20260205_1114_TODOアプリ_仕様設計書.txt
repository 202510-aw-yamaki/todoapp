ToDoアプリ 仕様書・設計書

1. システム概要
- アプリケーション名: ToDoアプリ
- 目的・概要: ToDoを登録し一覧表示するシンプルなCRUDアプリ。登録は一覧→登録→確認→完了の画面遷移で行う。
- 使用技術:
  - 言語: Java 17
  - フレームワーク: Spring Boot 3.x
  - Web: Spring Web MVC
  - ORM: Spring Data JPA
  - DB: H2 Database（インメモリ）
  - テンプレート: Thymeleaf

2. 画面一覧
| 画面名 | URL | 概要 |
| --- | --- | --- |
| 一覧画面 | /todos | ToDo一覧をテーブル表示し、新規登録へ遷移する |
| 登録画面 | /todos/new | 登録情報を入力する |
| 確認画面 | /todos/confirm | 入力内容を確認して登録する |
| 完了画面 | /todos/complete | 登録完了メッセージと一覧への導線を表示 |

3. 画面遷移図
一覧(/todos)
  -> 登録(/todos/new)
    -> 確認(/todos/confirm)
      -> 完了(/todos/complete)
        -> 一覧(/todos)

戻る操作:
- 登録画面: 一覧へ戻る
- 確認画面: 登録画面へ戻る（入力内容を保持）

4. データベース設計
テーブル: todo
| カラム名 | 型 | 制約 | 説明 |
| --- | --- | --- | --- |
| id | BIGINT | PK, AUTO INCREMENT, NOT NULL | 識別子 |
| title | VARCHAR(100) | NOT NULL | タイトル |
| author | VARCHAR(50) | NOT NULL | 登録者 |
| detail | VARCHAR(1000) | NULL | 詳細 |
| created_at | TIMESTAMP | NOT NULL | 作成日 |

5. 機能一覧
- 一覧画面
  - 表示項目: No（画面上の連番）, タイトル, 登録者, 作成日
  - 一覧をテーブルで表示
  - データがない場合は「データはありません」を表示
  - 「新規登録」ボタンで登録画面へ遷移

- 登録画面
  - 入力項目: 登録者（必須）, タイトル（必須）, 詳細（任意）
  - テーブルレイアウトで表示
  - バリデーション: 必須（登録者/タイトル）, 文字数上限を設定
  - ボタン: 確認（確認画面へ）, 戻る（一覧画面へ）

- 確認画面
  - 表示項目: 登録者, タイトル, 詳細
  - メッセージ: 「上記で登録して良いですか？」
  - ボタン: 登録（保存して完了画面へ）, 修正（登録画面へ戻る、入力保持）

- 完了画面
  - 表示項目: 登録者, タイトル, 詳細
  - メッセージ: 「上記で登録しました。」
  - リンク: 「一覧へ」で一覧画面へ戻る
  - 二重登録防止: PRGパターンを採用し更新で再登録されないようにする
