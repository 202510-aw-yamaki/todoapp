<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="${mode == 'edit'} ? 'ToDo編集' : 'ToDo登録'">ToDo登録</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 24px; }
        table { border-collapse: collapse; width: 100%; max-width: 720px; }
        th, td { border: 1px solid #ccc; padding: 8px; }
        th { background: #f5f5f5; width: 160px; text-align: left; }
        .error { color: #c00; font-size: 0.9em; }
        .actions { margin-top: 12px; display: flex; gap: 12px; }
    </style>
</head>
<body>
<h1 th:text="${mode == 'edit'} ? 'ToDo編集' : 'ToDo登録'"></h1>

<form th:action="@{/todos/confirm}" th:object="${todo}" method="post">
    <input type="hidden" th:field="*{id}" />
    <table>
        <tr>
            <th>登録者（必須）</th>
            <td>
                <input type="text" th:field="*{author}" />
                <div class="error" th:errors="*{author}"></div>
            </td>
        </tr>
        <tr>
            <th>タイトル（必須）</th>
            <td>
                <input type="text" th:field="*{title}" />
                <div class="error" th:errors="*{title}"></div>
            </td>
        </tr>
        <tr>
            <th>詳細（任意）</th>
            <td>
                <textarea th:field="*{detail}" rows="4" cols="40"></textarea>
                <div class="error" th:errors="*{detail}"></div>
            </td>
        </tr>
    </table>

    <div class="actions">
        <button type="submit">確認</button>
        <a th:href="@{/todos}">戻る</a>
    </div>
</form>
</body>
</html>
